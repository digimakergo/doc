(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"/OlU":function(t,e,n){"use strict";n.r(e),n.d(e,"_frontmatter",(function(){return p})),n.d(e,"default",(function(){return m}));var a=n("Fcif"),r=n("+I+c"),l=(n("jSf3"),n("/FXl")),b=n("TjRS"),i=n("ZFoC"),c=n("MNYI"),o=(n("aD51"),["components"]),p={};void 0!==p&&p&&p===Object(p)&&Object.isExtensible(p)&&!Object.prototype.hasOwnProperty.call(p,"__filemeta")&&Object.defineProperty(p,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/Util.mdx"}});var d={_frontmatter:p},u=b.a;function m(t){var e,n=t.components,m=Object(r.a)(t,o);return Object(l.b)(u,Object(a.a)({},d,m,{components:n,mdxType:"MDXLayout"}),Object(l.b)("h1",{id:"util"},"util"),Object(l.b)("p",null,"Functions under util object"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"import util from 'digimaker/util'\n\nconst def = util.getDefinition('article')\n")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"Function"),Object(l.b)("th",{parentName:"tr",align:null},"return"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"getRefreshToken"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Get refresh token")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"setRefreshToken(token: string)"),Object(l.b)("td",{parentName:"tr",align:null},"void"),Object(l.b)("td",{parentName:"tr",align:null},"Set refresh token. Typically used in login")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"setCookieKey(key string)"),Object(l.b)("td",{parentName:"tr",align:null},"Set cookie key typically for refresh token"),Object(l.b)("td",{parentName:"tr",align:null},"Default cooke is 'refreshToken'")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"getCookieKey"),Object(l.b)("td",{parentName:"tr",align:null},"Get cookie key"),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"getViewSettings"),Object(l.b)("td",{parentName:"tr",align:null},"ViewSettingsType in DMInit"),Object(l.b)("td",{parentName:"tr",align:null},"Get view settings set in DMInit")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"getDefinition(contenttype:string)"),Object(l.b)("td",{parentName:"tr",align:null},"any"),Object(l.b)("td",{parentName:"tr",align:null},"Get definition of a content type")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"getFields(definition:any)"),Object(l.b)("td",{parentName:"tr",align:null},"Array"),Object(l.b)("td",{parentName:"tr",align:null},"Get fields from a content type definition")))),Object(l.b)("h3",{id:"fetchwithauth"},"fetchWithAuth"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"import {fetchWithAuth} from 'digimaker/util'\n")),Object(l.b)("table",null,Object(l.b)("thead",{parentName:"table"},Object(l.b)("tr",{parentName:"thead"},Object(l.b)("th",{parentName:"tr",align:null},"params"),Object(l.b)("th",{parentName:"tr",align:null},"type"),Object(l.b)("th",{parentName:"tr",align:null},"Description"))),Object(l.b)("tbody",{parentName:"table"},Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"url"),Object(l.b)("td",{parentName:"tr",align:null},"string"),Object(l.b)("td",{parentName:"tr",align:null},"Can be absolute url(with http:// or https://) or relative(eg. 'content/list')")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"requestObj"),Object(l.b)("td",{parentName:"tr",align:null},"request object(optional)"),Object(l.b)("td",{parentName:"tr",align:null},"For post: {method:'POST', body:JSON.stringify(dataObject)}")),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null}),Object(l.b)("td",{parentName:"tr",align:null}),Object(l.b)("td",{parentName:"tr",align:null})),Object(l.b)("tr",{parentName:"tbody"},Object(l.b)("td",{parentName:"tr",align:null},"return"),Object(l.b)("td",{parentName:"tr",align:null},"dataJson object"),Object(l.b)("td",{parentName:"tr",align:null},"format: {error: false, data: {}}, if error is true, data will be the error object")))),Object(l.b)("p",null,"Example:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre",className:"language-js"},"import {fetchWithAuth} from 'digimaker/util'\n\n//GET\nfetchWithAuth('content/list/article?parent=3').then(data=>{\n    if(data.error===false){\n        setList(data.data)\n    }else{\n        //handle error \n        console.log(data.data);\n    }\n}).catch(e=>throw e);\n\n//POST\nfetchWithAuth('content/create/article/3', {\n        method: 'POST',\n        body: JSON.stringify(dataObject),\n    }).then((data) => {\n        //handle\n    }).catch((e)=>{});\n\n")),Object(l.b)("h2",{id:"basic-usage"},"Basic usage"),Object(l.b)(i.c,{__position:0,__code:"",__scope:(e={props:m,DefaultLayout:b.a,Playground:i.c,Props:i.d,util:c.c},e.DefaultLayout=b.a,e._frontmatter=p,e),mdxType:"Playground"}))}void 0!==m&&m&&m===Object(m)&&Object.isExtensible(m)&&!Object.prototype.hasOwnProperty.call(m,"__filemeta")&&Object.defineProperty(m,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/Util.mdx"}}),m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-util-mdx-8655c99d6063849cbe6d.js.map